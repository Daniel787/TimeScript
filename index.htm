<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

h1 {
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    text-align: center;
    margin-bottom: 10px;
}
p {
  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  display: inline;
  font-size: 40px;
  margin: 0 auto;
  text-align:center;
}
input {
    display: block;
    margin: 0 auto;
}
#days, #hours, #mins, #secs {
    display:hidden;   
}
label {
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    display:block;
    text-align: center;
    margin: 0 auto;
    margin-bottom: 10px;
}
#demo {
    visibility: hidden;
    margin: 0 auto;
    display:block;
}
 textarea   {
    display: block;
    visibility: hidden;
    margin: 0 auto;
    margin-top: 10px;
    height: 800px;
    width: 960px;
}
#download {
    display: none;
}
</style>
</head>
<body>
    <h1> TimeScript </h1>
    <label id="lab"> Click button to start writing. </label>
    <input type ="button" value="Start" id="start" onclick="buttonPress()" required>
    <p id="demo"> </p>
    <input type ="button" value="Download" id="download" onclick="saveTextAsFile(inputt.value, 'download.txt')" required> 
    <textarea id="inputt"></textarea>
    <script>

function saveTextAsFile(textToWrite, fileNameToSaveAs)
    {
    	var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'}); 
    	var downloadLink = document.createElement("a");
    	downloadLink.download = fileNameToSaveAs;
    	downloadLink.innerHTML = "Download File";
    	if (window.webkitURL != null)
    	{
    		// Chrome allows the link to be clicked
    		// without actually adding it to the DOM.
    		downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
    	}
    	else
    	{
    		// Firefox requires the link to be added to the DOM
    		// before it can be clicked.
    		downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
    		downloadLink.onclick = destroyClickedElement;
    		downloadLink.style.display = "none";
    		document.body.appendChild(downloadLink);
    	}
    
    	downloadLink.click();
    }
    // The data/time we want to countdown to
    function buttonPress() {
    var sec = 300;
    document.getElementById("demo").style.visibility = "visible";
    document.getElementById("lab").style.visibility = "hidden";
    document.getElementById("lab").style.display = "none";
    document.getElementById("start").style.visibility = "hidden";
    document.getElementById("start").style.display = "none";
    document.getElementById("inputt").style.visibility = "visible";
    document.getElementById("download").style.visibility = "visible";
    document.getElementById("download").style.display= "block";
    var x = setInterval(function () {
        var minutes = Math.floor(sec / 60);
        var disSec = sec % 60;
        document.getElementById("demo").innerHTML = minutes + "m " + disSec + "s ";
        if (sec < 0) {
          clearInterval(x);     
          document.getElementById("demo").innerHTML = "FINISHED"; 
          document.getElementById("inputt").readOnly = true;
        }
        sec--;
    }, 1000)
}
    </script>
</body>
</html>
